package com.coll.OnlineCollaborateBackEnd.test;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import static org.junit.Assert.*;

import java.time.LocalDate;

import org.junit.BeforeClass;
import org.junit.Test;

import com.coll.OnlineCollaborateBackEnd.dao.IUserDAO;
import com.coll.OnlineCollaborateBackEnd.model.User;

public class UserDAOTestCase {
	private static AnnotationConfigApplicationContext context;
	private static IUserDAO userDAO;
	private User user;
	
	@BeforeClass
	public static void init(){
		context=new AnnotationConfigApplicationContext();
		context.scan("com.coll.OnlineCollaborateBackEnd");
		context.refresh();
		
		userDAO=(IUserDAO)context.getBean("userDAO");
		user = (User) context.getBean("user");
		
	}
	
	@Test
	public void testAddUser(){
		
		user.setUserId(1);
		user.setFullname("Lopamudra Bera");
		user.setUsername("LopaB");
		user.setPassword("lopab");
		user.setConfirmpassword("lopab");
		user.setEmail("pinkfriend@gmail.com");
		user.setBirthdate(LocalDate.parse("1978-08-26"));
		user.setGender('F');
		user.setRole("SUPERADMIN");
		user.setStatus("APPROVED");
		user.setEnabled(true);
		user.setOnline(true);
		user.setProfile("noDP.png");
		assertEquals("Successfully added a user inside the table!", true, userDAO.addUser(user));
	}

//	@Test
//	public void testGetUser(){
//		user=userDAO.getUser(1);
//		assertEquals("Successfully added a user inside the table!", "LopaB", user.getUsername());
//	}
	
//	@Test
//	public void testUpdateUser(){
//		user=userDAO.getUser(1);
//		//assertEquals("Successfully added a user inside the table!", "LopaB", user.getUserName());
//		//user=new User();
//		user.setFullName("Lopamudra Bera");
//		user.setUserName("LopaB");
//		user.setPassword("lopabm");
//		user.setUserConfirmPassword("lopabm");
//		user.setUserEmail("pinkfriend@gmail.com");
//		user.setRole("user");
//		
//		assertEquals("Successfully updated a user inside the table!", true, userDAO.updateUser(user));
//	
//	}
	
//	@Test
//	public void testDeleteUser(){
//		assertEquals("Successfully deleted a user from the table!", true, userDAO.deleteUser(1));
//	
//	}
	
	/*@Test
	public void testGetUser(){
		user=userDAO.getUserByUserName("LopaB");
		assertEquals("Successfully added a user inside the table!", "LopaB", user.getUsername());
	}*/

}
